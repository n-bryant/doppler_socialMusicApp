<header class="is-flex">
  <div class="logo-container">
    <img class="logo" src="images/logo.gif" alt="doppler effect diagram">
  </div>
  <div class="title-container is-flex">
    <h1 class="title">doppler</h1>
    <p class="subtitle">A social music app, connecting you with the latest sounds</p>
  </div>
  <nav ng-controller="appController as appCtrl">
    <ul>
      <li ng-class="{active: appCtrl.section === 'home'}" ng-click="appCtrl.updateSection('home')" ui-sref="DopplerParent.profile">home</li>
      <li ng-class="{active: appCtrl.section === 'songs'}" ng-click="appCtrl.updateSection('songs')" ui-sref="DopplerParent.songs">songs</li>
      <li ng-class="{active: appCtrl.section === 'friends'}" ng-click="appCtrl.updateSection('friends')" ui-sref="DopplerParent.friends">friends</li>
    </ul>
  </nav>
</header>

<main>
  <div class="user-data-container is-flex">
    <div class="avatar-container">
      <img class="avatar" ng-src="{{userDetCtrl.currentUser.avatar}}" alt="{{userDetCtrl.currentUser.username}} avatar">
    </div>
    <div class="data-container is-flex">
      <span class="user-nm is-flex">
        {{userDetCtrl.currentUser.name}}
        <button ng-click="userDetCtrl.userLogOut()" class="logout-btn">log out</button>
      </span>
      <span class="user-login-date">last login: {{userDetCtrl.currentUser.lastLoginDate | date: "MMM dd hh:mma"}}</span>
    </div>
  </div>

  <div class="full-user-container">
    <div class="user-data-container is-flex">
      <div class="avatar-container is-flex">
        <img class="avatar" ng-src="{{userDetCtrl.userToDisplay.avatar}}" alt="{{userDetCtrl.userToDisplay.username}} avatar">
        <img ng-class="{active: userDetCtrl.hasFriend}" ng-click="userDetCtrl.toggleAddFriend(userDetCtrl.currentUser, userDetCtrl.userToDisplay)" class="add-friend-btn" src="./images/add-friend.png" alt="add-friend-icon">
      </div>
      <div class="data-container is-flex">
        <h2 class="user-nm">{{userDetCtrl.userToDisplay.name}}</h2>
        <p class="user-bio">Nulla a lorem dui. Nulla at mi tellus. Ut vitae massa vel urna imperdiet porttitor. Quisque non convallis velit, non sollicitudin orci. Maecenas vitae nisi dignissim, aliquam enim vitae, vestibulum nibh. Aenean semper blandit ipsum at tempor. Morbi in mollis nulla. Vivamus eleifend urna nec ipsum convallis, nec aliquam lorem vulputate. Vivamus dignissim arcu interdum risus pharetra laoreet. Suspendisse potenti. Aenean eget ultricies ante, id consectetur est.</p>
        <span class="user-login-date">last login: {{userDetCtrl.userToDisplay.lastLoginDate | date: "MMM dd"}}</span>
      </div>
    </div>
    <div class="user-songs-container is-centered">
      <span>favorited songs: {{userDetCtrl.userToDisplay.songs.length}}</span>
      <ul class="friend-songs">
        <li ng-repeat="song in userDetCtrl.friendSongs">
          <a ui-sref="DopplerParent.songDetails({id: song.id})">{{song.name}} by {{song.artist[0].name}}</a>
        </li>
      </ul>
    </div>
  </div>
</main>
